% Categorias
categorias('Habilitação').
categorias('Veículos').
categorias('Educação').

% Serviços
servico('Habilitação', 'Renovação da CNH', 'Emissão da Segunda via da CNH').
servico('Veículos', 'Licenciamento Anual (CRLV)').
servico('Veículos', 'Imposto sobre a Propriedade de Veículos Automotores (IPVA)').
servicos('Educação', 'Programas Permanentes').
servicos('Educação', 'Direção Segura').

informacao('Renovação da CNH', "Para renovar sua CNH, você deve agendar um exame médico, pagar a taxa de renovação e entregar os documentos necessário no posto do DETRAN.").
informacao('Emissão da segunda via da CNH', "Para emitir a segunda via de documentos, é necessário pagar a taxa correspondente e solicitar a emissão no site do DETRAN ou presencialmente.").
informacao('Licenciamento Anual (CRLV)', "O licenciamento anual do veículo pode ser realizado online através do site do DETRAN ou presencialmente, após o pagamento da taxa de licenciamento.").
informacao('Imposto sobre a Propriedade de Veículos Automotores (IPVA)', "Para emitir a segunda via de documentos, é necessário pagar a taxa correspondente e solicitar a emissão no site do DETRAN, presencialmente.").
informacao('Programas Permanentes', "As atividades propostas em cada programa educacional do DETRAN-SP oferece oferece iniciativas e campanhas educativas para que os participanetes adotem comportamentos seguros e orientam os participantes, sejam eles crianças ou adultos, a se posicionarem de maneira crítica, responsável e construtiva nas diferentes situações sociais que envolvem o contexto do trânsito.

O DETRAN oferece os seguintes programas educacionais:

1. Clube do Bem-te-vi (Parceria com a Polícia Militar do Estado de São Paulo)
- Programa direcionado a crianças do ensino fundamental.

2. Cidadania em Movimento (Parceria com a Fundação Grupo Volkswagen)
- Programa direcionado a educadores.

3. Criança Segura no Trânsito (Parceria com a Organização Criança Segura)
- Programa dedicado a crianças e adolecentes até 14 anos de idade.

4. Educação Viária é Vital (Parceria com FUNDACIÓN MAPFRE)
- Programa direcionado a alunos, familiares e profissionais de educação das escolas públicas municipais de Ensino Fundamental.

5. Na Medida (Parceria com a PERNOD RICARD BRASIL)
- Programa direcionado a alunos matriculados na rede pública de ensino (Estadual e Municipal) dos Anos Finais do Ensino Fundamental e do Ensino Médio e/ou Técnico.").
informacao('Direção Segura', "A Operação Direção Segura (atualmente sob o Decreto 58.881/2013) consiste em uma das ações instituídas pela Secretaria de Planejamento e Desenvolvimento Regional, a partir do Decreto 61.442/2015, o qual criou o Comitê Paulista de Ações para a Segurança Viária, com o objetivo de identificar, propor, coordenar, implementar e executar medidas e ações que visam ao trânsito seguro no Estado de São Paulo.

Sob a coordenação do DETRAN-SP, ações de Educação para o Trânsito e de Fiscalização, preconizadas pela ODS, constituem-se em um conjunto de alternativas para a redução de acidentes de trânsito provocados pela ingestão de álcool.

A ODS é organizada pelos seguintes entes públicos:

Abordagem Conceitual

1. DETRAN-SP (Coordenadoria Estadual de Direção Segura);

2. Policia Militar;

3. Polícia Civil;

4. Polícia Técnico-Científica.

Cada um dos entes públicos envolvidos organiza equipes de trabalho, as quais desenvolvem papéis específicos e complementares que permitem a execução correta de todas as etapas que envolvem a ODS.

Funcionamento da Operação

1. Sendo registrado o índice de alcoolemia até 0,33mg/L no bafômetro, o condutor será multado, terá a CNH apreendida e veículo retido. Posteriormente, será instaurado processo de suspensão de 1 ano de validade de sua CNH.

2. Sendo registrado o índice de alcoolemia a partir de 0,34mg/ L (inclusive) no bafômetro aplica-se todos os procedimentos anteriores e está configurado crime de trânsito (art. 306 CTB). Na recusa, se for elaborado laudo médico positivo de embriaguez, o condutor será preso em flagrante pela autoridade policial, sendo fixado valor de fiança.").

% Regras
perguntar(Servico) :-
    servico(Servico),
    informacao(Servico, Informacao),
    format('Sobre o serviço ~w, aqui está o que encontrei: ~n~w~n', [Servico, Informacao]).

% Interface simples de chat
chat :-
    write('Olá, Este é o chatbot do DETRAN como posso ajudar? (Digite sair para encerrar)'), nl,
    repeat,
    read(Input),
    ( Input = sair ->
        write('Até mais!'), nl, !, fail;
        ( perguntar(Input) ->
            true;
            write('Desculpe, não tenho informações sobre isso.'), nl
        ),
        fail
    ).
